:root{
  --bg:#0b1220; --card:#111a2b; --text:#e5e7eb; --muted:#94a3b8;
  --primary:#22c55e; --accent:#06b6d4; --danger:#ef4444;
  --shadow:0 8px 24px rgba(0,0,0,.25); --radius:16px; --gold:#f59e0b;
}
body.theme-light{ --bg:#f8fafc; --card:#ffffff; --text:#0f172a; --muted:#475569 }
html,body{height:100%}
html,body{overflow-x:hidden; overscroll-behavior-x:none}
*{box-sizing:border-box; max-width:100vw}
body{margin:0; font-family:system-ui,-apple-system,"Segoe UI",Roboto,"Noto Kufi Arabic",Arial; background:var(--bg); color:var(--text)}
img,svg{max-width:100%; height:auto; display:block}

/* نص معاكس للخلفية تلقائيًا */
*, .dlg-card, .bankcard, .card, .links a, .tab, .btn, label, input, textarea, select { color: var(--text); }

/* الحقول */
input,textarea,select{font-size:16px; width:100%; padding:12px; border-radius:12px; background:#0d1729; border:1px solid rgba(148,163,184,.2)}
body.theme-light input,body.theme-light textarea,body.theme-light select{background:#fff}
label{display:block; font-size:.9rem; margin:6px 2px}

/* أزرار */
.btn{display:inline-flex; align-items:center; justify-content:center; gap:8px; padding:12px 14px; border:none; border-radius:12px; background:#1f2937; cursor:pointer; text-decoration:none}
.btn.primary{background:var(--primary); color:#052e16}
.btn.accent{background:var(--accent); color:#012a2f}
.btn.ghost{background:transparent; border:1px solid rgba(148,163,184,.25)}
.btn.danger{background:var(--danger)}
.btn.small{padding:8px 10px; font-size:.85rem}
.btn.full{width:100%}

/* وميض */
.pulse{position:relative; isolation:isolate}
.pulse::after{content:""; position:absolute; inset:-2px; border-radius:14px; background:linear-gradient(90deg, transparent, rgba(255,255,255,.18), transparent); animation:pulse 1.4s linear infinite; z-index:-1}
@keyframes pulse{0%{transform:translateX(-120%)}100%{transform:translateX(120%)}}

.muted{color:var(--muted)}
.tiny{font-size:.78rem}
.container{max-width:980px; margin:0 auto; padding:14px 12px 88px}
.view-title{margin:6px 2px 10px}

/* الهيدر */
.app-header{position:sticky; top:0; z-index:120; display:grid; grid-template-columns:56px 1fr 56px; align-items:center; gap:8px; padding:8px 12px; background:linear-gradient(180deg, rgba(2,6,23,.96), rgba(2,6,23,.72)); backdrop-filter:blur(8px); border-bottom:1px solid rgba(148,163,184,.12)}
.header-logo{width:40px; height:40px}
.header-center{display:flex; align-items:center; gap:8px; justify-content:flex-start}
.icon-btn{background:transparent; border:1px solid rgba(148,163,184,.2); border-radius:10px; padding:8px 10px}
.theme-toggle{min-width:40px}
.upgrade-btn{padding:6px 10px; border-radius:999px; font-size:.78rem; background:rgba(34,197,94,.12); color:#86efac; border:1px solid rgba(34,197,94,.18)}
.plan-badge{padding:6px 10px; border-radius:999px; font-size:.78rem; background:rgba(245,158,11,.15); color:#fbbf24; border:1px solid rgba(245,158,11,.35)}
.hidden{display:none !important}

/* بانر */
.banner{height:160px; border-radius:20px; background: radial-gradient(1200px 400px at 80% -10%, #0ea5e9 0%, transparent 60%), linear-gradient(135deg,#0b1325,#0f1a32 55%,#0b1220); display:flex; align-items:center; overflow:hidden; box-shadow:var(--shadow); padding-inline:12px}
.banner-text{padding-inline:8px}

/* زرا البانر شبه المتلاصقين */
.home-actions{margin-top:14px; display:flex; gap:6px; align-items:center}
.home-actions-left,.home-actions-right{flex:1; display:flex}
.home-actions-left .btn,.home-actions-right .btn{width:100%}
.debt-menu{position:absolute; bottom:54px; left:0; min-width:165px; background:var(--card); border-radius:12px; box-shadow:var(--shadow); padding:8px; display:none; z-index:200}
.debt-menu.show{display:block}

/* بطاقات/نمط عام */
.card{background:var(--card); border-radius:var(--radius); padding:14px; box-shadow:var(--shadow); margin:10px 0}
.cards,.v-cards{display:grid; gap:10px}
.row{display:flex; gap:8px; align-items:center}
.row.space{justify-content:space-between}

/* بطاقة "الصراف" */
.bankcard{position:relative; border-radius:16px; padding:12px; background:linear-gradient(135deg,#0b1325,#0f1a32); box-shadow:var(--shadow)}
.bankcard .title{font-weight:700}
.bankcard .sub{font-size:.9rem; opacity:.9; margin-top:4px}
.bankcard .type{display:inline-block; padding:4px 8px; border-radius:999px; background:rgba(148,163,184,.15); font-size:.78rem; margin-top:6px}
.bankcard .footer{display:flex; justify-content:space-between; margin-top:10px}
.link-like{background:transparent; border:1px solid rgba(148,163,184,.25); border-radius:10px; padding:6px 10px; cursor:pointer}

/* سداد */
.sadaad-list{display:grid; gap:6px; margin-top:6px}
.sadaad-item{display:flex; justify-content:space-between; gap:8px; font-size:.88rem; background:rgba(148,163,184,.07); border-radius:8px; padding:6px 8px}

/* روابط */
.links{display:grid; gap:10px}
.links a{color:var(--text); opacity:.9; text-decoration:none}

/* تبويب سفلي */
.tabbar{position:fixed; bottom:0; inset-inline:0; height:64px; backdrop-filter:blur(8px); border-top:1px solid rgba(148,163,184,.12); display:grid; grid-template-columns:repeat(5,1fr); padding:6px; gap:6px; z-index:130}
.tab{border-radius:12px; border:1px solid rgba(148,163,184,.15); background:transparent; font-size:.85rem; display:flex; align-items:center; justify-content:center; text-decoration:none}
.tab.active{background:rgba(34,197,94,.18); color:#a7f3d0; border-color:rgba(34,197,94,.4)}
body.theme-dark .tabbar{background:rgba(2,6,23,.9)}
body.theme-light .tabbar{background:rgba(255,255,255,.95)}
body.theme-light .tab{border-color:rgba(15,23,42,.15)}
body.theme-light .tab.active{background:rgba(34,197,94,.16); color:#065f46; border-color:rgba(34,197,94,.35)}

/* أنماط تبويبات إضافية */
.tabbar.style-pill .tab{border-radius:999px}
.tabbar.style-underline{border-top:0; background:transparent}
.tabbar.style-underline .tab{border:0; border-bottom:2px solid transparent}
.tabbar.style-underline .tab.active{border-bottom-color:#22c55e}

/* حوارات */
.dlg::backdrop{background:rgba(0,0,0,.5)}
.dlg-card{background:var(--card); padding:14px; border-radius:16px; max-width:92vw; box-shadow:var(--shadow)}
.dlg-body{white-space:pre-wrap; line-height:1.8}

/* شاشة الدخول */
.auth-overlay{position:fixed; inset:0; display:grid; place-items:center; background:rgba(0,0,0,.6); backdrop-filter:blur(6px); z-index:999}
.auth-card{background:var(--card); padding:22px; border-radius:16px; width:min(520px,92vw); box-shadow:var(--shadow)}
.auth-card h3{margin:0 0 10px}
.auth-card p{margin:0 0 12px}

/* صفحة الدفع */
.plans{display:grid; gap:14px}
.plan-card{background:linear-gradient(135deg,#0b1325,#0f1a32); border:1px solid rgba(148,163,184,.18); border-radius:16px; box-shadow:var(--shadow); padding:14px; position:relative; overflow:hidden}
body.theme-light .plan-card{background:#ffffff; border-color:rgba(15,23,42,.12)}
.plan-card.featured{border-color:rgba(245,158,11,.45)}
.plan-title{font-weight:800; font-size:1.05rem}
.plan-price{font-weight:700; margin:6px 0 8px}
.plan-feats{margin:0 0 10px; padding:0 0 0 18px}
.plan-cta{display:flex; justify-content:center}
.plan-cta .btn{min-width:160px}
.plan-card.pulse::after{content:""; position:absolute; inset:-2px; border-radius:18px; background:linear-gradient(90deg, transparent, rgba(255,255,255,.15), transparent); animation:pulse 1.6s linear infinite}

/* زر الاشتراك داخل بطاقات الدفع — أخضر + تباين واضح */
.plan-cta{display:flex; justify-content:center}
.plan-cta .btn{
  min-width:160px;
  background: var(--primary);
  color:#052e16;
  border:0;
}
.plan-cta .btn:hover{filter:brightness(1.05)}
.plan-cta .btn:focus-visible{outline:2px solid #86efac; outline-offset:2px}

/* أزرار بطاقات الدين “شاهد الدين / تعديل” — رفع التباين */
.link-like{
  border-radius:10px;
  padding:6px 10px;
  cursor:pointer;
  font-weight:700;
  background: rgba(148,163,184,.15);
  border:1px solid rgba(148,163,184,.35);
  color: var(--text);
}
body.theme-light .link-like{
  background: rgba(15,23,42,.08);
  border-color: rgba(15,23,42,.25);
  color: var(--text);
}
.link-like:hover{filter:brightness(1.05)}
.link-like:focus-visible{outline:2px solid rgba(34,197,94,.6); outline-offset:2px}

/* خلفيات البطاقات تتبع وضع الموقع (فاتح/داكن) */
.bankcard{
  background: var(--card);
  border: 1px solid rgba(148,163,184,.18);
  transition: background .2s ease, border-color .2s ease;
}
body.theme-dark .bankcard{
  background: linear-gradient(135deg,#0b1325,#0f1a32);
  border-color: rgba(148,163,184,.18);
}
body.theme-light .bankcard{
  background: #ffffff;
  border-color: rgba(15,23,42,.12);
}
body.theme-light .bankcard .type{ background: rgba(15,23,42,.08); }
body.theme-light .sadaad-item{ background: rgba(15,23,42,.06); }

/* 1) توحيد لون نصوص السلايدر والعناوين داخل البانر إلى الأبيض دائمًا */
.banner-text #heroTitle,
.banner-text #heroSub,
.banner-text #heroSlider,
.banner-text #heroSlider *{ color:#fff !important; }

/* 2) تباين نص الأزرار الافتراضية */
.btn:not(.primary):not(.accent):not(.ghost):not(.danger){ color:#fff; }

/* ===== mini stats ===== */
.mini-stats{display:grid; grid-template-columns:repeat(3,1fr); gap:8px}
.mini-item{
  background:rgba(148,163,184,.08);
  border:1px solid rgba(148,163,184,.15);
  border-radius:12px;
  padding:10px; text-align:center;
}
.mini-item .k{font-size:.82rem; opacity:.9}
.mini-item .v{font-weight:800; font-size:1.2rem; margin-top:4px}
body.theme-light .mini-item{
  background:rgba(15,23,42,.05);
  border-color:rgba(15,23,42,.12);
}

/* ===== دفع/تذييل ===== */
.pay-card .pay-actions{display:flex; gap:8px; flex-wrap:wrap}
.pay-strip{display:flex; gap:10px; flex-wrap:wrap; align-items:center}
.pay-strip img{height:22px; width:auto; display:block; filter:none}
body.theme-dark .pay-strip img{filter:none}
.split{height:1px; background:rgba(148,163,184,.15); margin:10px 0}

/* ===== FAQ (Accordion) ===== */
.faq-list{display:grid;gap:8px}
.faq-item{
  background:var(--card);
  border:1px solid rgba(148,163,184,.15);
  border-radius:12px;
  padding:8px 10px;
}
.faq-item summary{
  list-style:none;
  cursor:pointer;
  font-weight:800;
  outline:0;
  display:flex; align-items:center; gap:8px;
}
.faq-item summary::-webkit-details-marker{display:none}
.faq-item .chev{ transition:transform .2s ease; font-size:1rem; opacity:.9; }
.faq-item[open] .chev{ transform:rotate(180deg) }
.faq-answer{margin-top:8px; line-height:1.9; color:var(--text)}
